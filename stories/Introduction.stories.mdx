import { Meta } from "@storybook/addon-docs";

<Meta title="Introduction" />

# Welcome to @jzohdi/react-draw Storybook

This is a fully customizable drawing area library written in react + typescript.
Included only the tools you want for the smallest bundle size or add your own.

> Jump straight to the interactive Playground: [Playground](?path=/story/playground--page)

## Installation

Install using `npm` or `yarn`

<pre>
  <code className="shell">npm install @jzohdi/react-draw</code>
</pre>

<pre>
  <code className="shell">yarn add @jzohdi/react-draw</code>
</pre>

## Example

```jsx
import React from "react";
import {
  circleTool,
  squareTool,
  selectTool,
  freeDrawTool,
  diamondTool,
  straightLineTool,
  textAreaTool,
  eraseTool,
  undoTool,
  redoTool,
  trashTool,
  duplicateTool,
  bringBackTool,
  bringForwardTool,
  ColorStyle,
  BackgroundStyle,
  LineWidthStyle,
  OpacityStyle,
  arrowTool,
  ClearAllButton,
  FontSizeStyle,
} from "../src";

export default function MyComponent() {
  <div>
    <h1>Example page title</h1>
    <ReactDraw
      drawingTools={[
        selectTool,
        freeDrawTool,
        squareTool,
        circleTool,
        diamondTool,
        straightLineTool,
        arrowTool,
      ]}
      actionTools={[
        undoTool,
        redoTool,
        trashTool,
        duplicateTool,
        bringBackTool,
        bringForwardTool,
      ]}
      shouldSelectAfterCreate={true}
      styleComponents={{
        color: { order: 3, component: ColorStyle },
        background: { order: 4, component: BackgroundStyle },
        lineWidth: { order: 1, component: LineWidthStyle },
        opacity: { order: 0, component: OpacityStyle },
        fontSize: { order: 2, component: FontSizeStyle },
      }}
      menuComponents={[ClearAllButton]}
    >
      ... any child you want can go inside the drawing area.
    </ReactDraw>
  </div>;
}
```

## ReactDraw Prop Types

See all types [here][2]

```typescript
type ReactDrawProps = {
  children?: ReactChild;
  layout?: LayoutOption;
  drawingTools: DrawingTools[];
  hideTopBar?: boolean;
  actionTools: ActionTools[];
  hideBottomBar?: boolean;
  shouldKeepHistory?: boolean;
  shouldSelectAfterCreate?: boolean;
  id: string;
  styleComponents?: StyleComponents;
  menuComponents?: MenuComponent[];
  styles?: StylesObject;
  classNames?: ClassNamesObject;
};

type LayoutOption = "default" | LayoutAbsolute | "fit";

type LayoutAbsolute = {
  width: number | string;
  height: number | string;
};

type StylesObject = {
  bottomBarContainer?: StylesValue;
  toolIconWrapper?: StylesValue;
  clearAllButton?: StylesValue;
  alertMessageDialog?: StylesValue;
  bottomToolButton?: StylesValue;
  menuButton?: StylesValue;
  menuContainer?: StylesValue;
  topBarBontainer?: StylesValue;
  [other: string]: StylesValue | undefined;
};

type ClassNamesObject = {
  bottomBarContainer?: string;
  toolIconWrapper?: string;
  clearAllButton?: string;
  alertMessageDialog?: string;
  bottomToolButton?: string;
  menuButton?: string;
  menuContainer?: string;
  topBarBontainer?: string;
  [other: string]: string | undefined;
};

type KeyFramesValue = {
  [percent: string]: CSSProperties;
};

type KeyFramesDefinition = {
  [keyframesDef: string]: KeyFramesValue;
};

type StylesValue =
  | CSSProperties
  | {
      [selector: string]: CSSProperties;
    }
  | KeyFramesDefinition;
```

## Roadmap

- [x] duplicate action
- [x] reorder (back front) actions
- [x] tooltips
- [x] optional tool labels
- [x] clear all
- [x] text area font size update
- [x] forward ref
- [x] tool bar overflow
- [x] styles/classnames props
- [x] remove dep on styled components - used for hover and animations
- [x] give example of to image
- [ ] improve docs
- [ ] responsive mode?
- [x] save/load
- [ ] fix select object when rotated (correctly calculate the new bounds if rotated) (maybe fix getCenterPoint too)
- [ ] provide utils as part of package
- [-] [free draw bezier curve][1]
- [-] fix resize when rotated
- [ ] fix ssr css

## Stack

- [x] react
- [x] typescript
- [x] styled-components
- [x] storybook
- [x] rollup

[1]: https://francoisromain.medium.com/smooth-a-svg-path-with-cubic-bezier-curves-e37b49d46c74
[2]: https://github.com/jzohdi/reactdraw/blob/main/src/types.ts
