(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return Object(ClientApi.d)(value);case"argTypes":return Object(ClientApi.b)(value);case"decorators":return value.forEach((function(decorator){return Object(ClientApi.f)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.g)(loader,!1)}));case"parameters":return Object(ClientApi.h)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.e)(enhancer)}));case"render":return Object(ClientApi.i)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.h)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^|[\\\\/]|(?:(?:(?!(?:^|[\\\\/])\\.).)*?)[\\\\/])(?!\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^|[\\\\/]|(?:(?:(?!(?:^|[\\\\/])\\.).)*?)[\\\\/])(?!\\.)(?=.)[^\\\\/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./src sync recursive ^\\.(?:(?:^|[\\\\/]|(?:(?:(?!(?:^|[\\\\/])\\.).)*?)[\\\\/])(?!\\.)(?=.)[^\\\\/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./stories/ReactDraw.stories.tsx":"./src/stories/ReactDraw.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|[\\\\/]|(?:(?:(?!(?:^|[\\\\/])\\.).)*?)[\\\\/])(?!\\.)(?=.)[^\\\\/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./src sync recursive ^\\.(?:(?:^|[\\\\/]|(?:(?:(?!(?:^|[\\\\/])\\.).)*?)[\\\\/])(?!\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$":function(module,exports,__webpack_require__){var map={"./stories/Introduction.stories.mdx":"./src/stories/Introduction.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|[\\\\/]|(?:(?:(?!(?:^|[\\\\/])\\.).)*?)[\\\\/])(?!\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$"},"./src/stories/Introduction.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.b,{title:"Example/Introduction",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("style",null,"\n    .subheading {\n      --mediumdark: '#999999';\n      font-weight: 900;\n      font-size: 13px;\n      color: #999;\n      letter-spacing: 6px;\n      line-height: 24px;\n      text-transform: uppercase;\n      margin-bottom: 12px;\n      margin-top: 40px;\n    }\n\n    .link-list {\n      display: grid;\n      grid-template-columns: 1fr;\n      grid-template-rows: 1fr 1fr;\n      row-gap: 10px;\n    }\n\n    @media (min-width: 620px) {\n      .link-list {\n        row-gap: 20px;\n        column-gap: 20px;\n        grid-template-columns: 1fr 1fr;\n      }\n    }\n\n    @media all and (-ms-high-contrast:none) {\n    .link-list {\n        display: -ms-grid;\n        -ms-grid-columns: 1fr 1fr;\n        -ms-grid-rows: 1fr 1fr;\n      }\n    }\n\n    .link-item {\n      display: block;\n      padding: 20px 30px 20px 15px;\n      border: 1px solid #00000010;\n      border-radius: 5px;\n      transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n      color: #333333;\n      display: flex;\n      align-items: flex-start;\n    }\n\n    .link-item:hover {\n      border-color: #1EA7FD50;\n      transform: translate3d(0, -3px, 0);\n      box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n    }\n\n    .link-item:active {\n      border-color: #1EA7FD;\n      transform: translate3d(0, 0, 0);\n    }\n\n    .link-item strong {\n      font-weight: 700;\n      display: block;\n      margin-bottom: 2px;\n    }\n\n    .link-item img {\n      height: 40px;\n      width: 40px;\n      margin-right: 15px;\n      flex: none;\n    }\n\n    .link-item span {\n      font-size: 14px;\n      line-height: 20px;\n    }\n\n    .tip {\n      display: inline-block;\n      border-radius: 1em;\n      font-size: 11px;\n      line-height: 12px;\n      font-weight: 700;\n      background: #E7FDD8;\n      color: #66BF3C;\n      padding: 4px 12px;\n      margin-right: 10px;\n      vertical-align: top;\n    }\n\n    .tip-wrapper {\n      font-size: 13px;\n      line-height: 20px;\n      margin-top: 40px;\n      margin-bottom: 40px;\n    }\n\n    .tip-wrapper code {\n      font-size: 12px;\n      display: inline-block;\n    }\n  "),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h1",null,"Welcome to Storybook"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("p",null,"Storybook helps you build UI components in isolation from your app's business logic, data, and context.\nThat makes it easy to develop hard-to-reach states. Save these UI states as ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("strong",{parentName:"p"},"stories")," to revisit during development, testing, or QA."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("p",null,"Browse example stories now by navigating to them in the sidebar.\nView their code in the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("inlineCode",{parentName:"p"},"stories")," directory to learn how they work.\nWe recommend building UIs with a ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"p",href:"https://componentdriven.org"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("strong",{parentName:"a"},"component-driven"))," process starting with atomic components and ending with pages."))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Example/Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},"./src/stories/ReactDraw.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultLayoutWithoutChildren",(function(){return DefaultLayoutWithoutChildren})),__webpack_require__.d(__webpack_exports__,"DefaultLayoutWithChildren",(function(){return DefaultLayoutWithChildren})),__webpack_require__.d(__webpack_exports__,"FitLayoutWithChildren",(function(){return FitLayoutWithChildren}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=(__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/react/jsx-runtime.js"));var defaultStyles={boxShadow:"#000000 0px 1px 3px 0px",borderRadius:4,overflow:"hidden",display:"flex",flexDirection:"column"};function Container(_ref){var children=_ref.children,styles=function getStyles(layout){return"default"===layout?{width:500,height:500,maxWidth:"100%"}:"fit"===layout?{maxWidth:"100%"}:void 0}(_ref.layout);return Object(jsx_runtime.jsx)("div",{style:Object.assign({},defaultStyles,styles),children:children})}Container.displayName="Container";try{Container.displayName="Container",Container.__docgenInfo={description:"",displayName:"Container",props:{layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"LayoutOption"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ReactDraw/Container.tsx#Container"]={docgenInfo:Container.__docgenInfo,name:"Container",path:"src/ReactDraw/Container.tsx#Container"})}catch(__react_docgen_typescript_loader_error){}var _templateObject,_templateObject2,styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}var TopToolBar_templateObject,Wrapper=styled_components_browser_esm.b.button(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["\n  display: flex;\n  cursor: pointer;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  background-color: transparent;\n  border-radius: 2px;\n  transition: background-color 150ms ease-in-out;\n  @media only screen and (min-width: ","px) {\n    width: 40px;\n    height: 40px;\n  }\n  @media only screen and (max-width: ","px) {\n    width: 30px;\n    height: 30px;\n  }\n  &:hover {\n    background-color: #ececec;\n  }\n  ","\n"])),450,450,(function(props){return props.selected&&Object(styled_components_browser_esm.a)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["\n      background-color: #228be6 !important;\n      > svg path {\n        fill: white;\n      }\n    "])))}));function ToolIconWrapper(_ref){var children=_ref.children,selected=_ref.selected,onSelect=_ref.onSelect;return Object(jsx_runtime.jsx)(Wrapper,{selected:selected,onSelect:onSelect,children:children})}ToolIconWrapper.displayName="ToolIconWrapper";try{ToolIconWrapper.displayName="ToolIconWrapper",ToolIconWrapper.__docgenInfo={description:"",displayName:"ToolIconWrapper",props:{selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ReactDraw/ToolIconWrapper.tsx#ToolIconWrapper"]={docgenInfo:ToolIconWrapper.__docgenInfo,name:"ToolIconWrapper",path:"src/ReactDraw/ToolIconWrapper.tsx#ToolIconWrapper"})}catch(__react_docgen_typescript_loader_error){}var TopBarContainer=styled_components_browser_esm.b.div(TopToolBar_templateObject||(TopToolBar_templateObject=function TopToolBar_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n  display: flex;\n"])));function TopToolBar(_ref){var tools=_ref.tools,onSelectTool=_ref.onSelectTool,currentTool=_ref.currentTool;return Object(jsx_runtime.jsx)(TopBarContainer,{children:tools.map((function(tool){return Object(jsx_runtime.jsx)(ToolIconWrapper,{selected:tool.id===currentTool,onSelect:function onSelect(){return onSelectTool(tool.id)},children:tool.icon},tool.id)}))})}TopToolBar.displayName="TopToolBar";try{TopToolBar.displayName="TopToolBar",TopToolBar.__docgenInfo={description:"",displayName:"TopToolBar",props:{tools:{defaultValue:null,description:"",name:"tools",required:!0,type:{name:"TopBarTool[]"}},onSelectTool:{defaultValue:null,description:"",name:"onSelectTool",required:!0,type:{name:"(id: string) => void"}},currentTool:{defaultValue:null,description:"",name:"currentTool",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ReactDraw/TopToolBar.tsx#TopToolBar"]={docgenInfo:TopToolBar.__docgenInfo,name:"TopToolBar",path:"src/ReactDraw/TopToolBar.tsx#TopToolBar"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function makeid(length){for(var result="",characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",charactersLength=characters.length,i=0;i<length;i++)result+=characters.charAt(Math.floor(Math.random()*charactersLength));return result}function getTouchCoords(e){var touch=e.touches[0];return touch||(touch=e.targetTouches[0]),touch||(touch=e.changedTouches[0]),[touch.clientX,touch.clientY]}function getRelativePoint(point,container){if(!container)throw new Error("Container not set.");var rect=container.getBoundingClientRect();return[point[0]-rect.left,point[1]-rect.top]}function isBrowser(){return void 0!==typeof window}function makeNewBoundingDiv(relativePoint,lineWidth){if(!isBrowser())throw new Error("new bounding div called on the server.");var _relativePoint=_slicedToArray(relativePoint,2),_makeNewDiv=function makeNewDiv(pointX,pointY,lineWidth){var id=makeid(6),div=document.createElement("div"),left=pointX-lineWidth,top=pointY-lineWidth;return div.id=id,div.style.width=2*lineWidth+"px",div.style.height=2*lineWidth+"px",div.style.position="absolute",div.style.left=left+"px",div.style.top=top+"px",{div:div,id:id,top:top,left:left,right:left+lineWidth+lineWidth,bottom:top+lineWidth+lineWidth}}(_relativePoint[0],_relativePoint[1],lineWidth);return{coords:[relativePoint],element:null,container:{id:_makeNewDiv.id,div:_makeNewDiv.div,bounds:{top:_makeNewDiv.top,left:_makeNewDiv.left,right:_makeNewDiv.right,bottom:_makeNewDiv.bottom}},style:{lineWidth:lineWidth}}}function createSvg(w,h){if(!isBrowser())throw new Error("createSVG called on server");var newSVG=document.createElementNS("http://www.w3.org/2000/svg","svg");return newSVG.setAttribute("width",w),newSVG.setAttribute("height",h),newSVG.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),newSVG.setAttribute("viewbox","0 0 "+w+" "+h),newSVG.style.position="absolute",newSVG.style.top="0",newSVG.style.left="0",newSVG}function mapPointToRect(point,container,viewContainer){var containerBounds=container.div.getBoundingClientRect(),viewBounds=viewContainer.getBoundingClientRect(),topOfCotainerRelativeToView=containerBounds.top-viewBounds.top,pointYRelativeToContainer=point[1]-topOfCotainerRelativeToView,leftOfContainerRelativeToView=containerBounds.left-viewBounds.left;return[point[0]-leftOfContainerRelativeToView,pointYRelativeToContainer]}var _excluded=["children","topBarTools"],_excluded2=["id"];function ReactDraw_slicedToArray(arr,i){return function ReactDraw_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ReactDraw_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ReactDraw_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return ReactDraw_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ReactDraw_arrayLikeToArray(o,minLen)}(arr,i)||function ReactDraw_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ReactDraw_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function ReactDraw(_ref){var children=_ref.children,topBarTools=_ref.topBarTools,props=_objectWithoutProperties(_ref,_excluded),drawingAreaRef=Object(react.useRef)(null),topTools=function getTopTools(topTools){return topTools.map((function(_ref2){var id=_ref2.id,rest=_objectWithoutProperties(_ref2,_excluded2);return id?Object.assign({id:id},rest):Object.assign({},rest,{id:makeid(6)})}))}(topBarTools),_useState2=ReactDraw_slicedToArray(Object(react.useState)(topTools[0]),2),currentDrawingTool=_useState2[0],setCurrentDrawingTool=_useState2[1],_validateProps=function validateProps(children,layout){var numChildren=react.Children.count(children);if(numChildren>1)throw new Error("ReactDraw expects either 0 or 1 children, detected more.");void 0===layout&&(layout="default");return{numChildren:numChildren,layout:layout}}(children,props.layout),layout=_validateProps.layout,renderedElementsMap=Object(react.useRef)({}),currentElement=Object(react.useRef)(null),_useState4=ReactDraw_slicedToArray(Object(react.useState)(4),2),currentLineWidth=_useState4[0],drawingAreaId=(_useState4[1],Object(react.useRef)("drawing-area-container-"+makeid(6)));Object(react.useEffect)((function(){var container=drawingAreaRef.current;if(container)return container.addEventListener("mousedown",startDrawMouse),container.addEventListener("mouseup",endDrawMouse),container.addEventListener("mousemove",drawMouse),container.addEventListener("touchstart",startDrawTouch,{passive:!1}),container.addEventListener("touchmove",drawTouch,{passive:!1}),container.addEventListener("touchcancel",endDrawTouch),container.addEventListener("touchend",endDrawTouch),function(){container.removeEventListener("mousedown",startDrawMouse),container.removeEventListener("mouseup",endDrawMouse),container.removeEventListener("mousemove",drawMouse),container.removeEventListener("touchstart",startDrawTouch),container.removeEventListener("touchmove",drawTouch),container.removeEventListener("touchcancel",endDrawTouch),container.removeEventListener("touchend",endDrawTouch)};function startDrawMouse(e){if(container){var newDrawingData=makeNewBoundingDiv(getRelativePoint([e.clientX,e.clientY],container),currentLineWidth);currentElement.current=newDrawingData,null==container||container.append(newDrawingData.container.div),currentDrawingTool.onDrawStart(newDrawingData,container)}}function drawMouse(e){var currentDrawingData=currentElement.current;if(currentDrawingData&&container){var relativePoint=getRelativePoint([e.clientX,e.clientY],container);currentDrawingData.coords.push(relativePoint),currentDrawingTool.onDrawing(currentDrawingData,container)}}function endDrawMouse(){var currentDrawingData=currentElement.current;currentDrawingData&&container&&(currentElement.current=null,renderedElementsMap.current[currentDrawingData.container.id]=currentDrawingData,currentDrawingTool.onDrawEnd(currentDrawingData,container))}function startDrawTouch(e){getRelativePoint(getTouchCoords(e),container)}function endDrawTouch(){}function drawTouch(e){getRelativePoint(getTouchCoords(e),container)}}),[]);return Object(jsx_runtime.jsxs)(Container,{layout:layout,children:[Object(jsx_runtime.jsx)(TopToolBar,{tools:topTools,onSelectTool:function handleSelectTopTool(toolId){if(currentDrawingTool.id!==toolId){var selectedTool=topTools.find((function(tool){return tool.id===toolId}));selectedTool&&setCurrentDrawingTool(selectedTool)}},currentTool:currentDrawingTool.id}),Object(jsx_runtime.jsx)("div",{id:drawingAreaId.current,style:{position:"relative",width:"100%",flex:1,boxSizing:"border-box"},ref:drawingAreaRef,children:children}),Object(jsx_runtime.jsx)("div",{}),Object(jsx_runtime.jsx)("style",{children:"\n\t\t#"+drawingAreaId.current+" {\n\t\t\tcursor: "+(currentDrawingTool.cursor||"defautl")+";\n\t\t}\n\t  "})]})}ReactDraw.displayName="ReactDraw";try{ReactDraw.displayName="ReactDraw",ReactDraw.__docgenInfo={description:"",displayName:"ReactDraw",props:{layout:{defaultValue:null,description:"",name:"layout",required:!1,type:{name:"LayoutOption"}},topBarTools:{defaultValue:null,description:"",name:"topBarTools",required:!0,type:{name:"DrawingTools[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ReactDraw/index.tsx#ReactDraw"]={docgenInfo:ReactDraw.__docgenInfo,name:"ReactDraw",path:"src/ReactDraw/index.tsx#ReactDraw"})}catch(__react_docgen_typescript_loader_error){}var PencilBoldIcon=__webpack_require__("./node_modules/@jzohdi/jsx-icons/dist/src/icons/PencilBoldIcon.js"),src_FreeDrawTool={icon:Object(jsx_runtime.jsx)(PencilBoldIcon.a,{}),onDrawStart:function onDrawStart(data){var lineWidth=data.style.lineWidth,newSvg=createSvg(lineWidth+"px",lineWidth+"px"),newPath=function createCircle(radius){if(!isBrowser())throw new Error("createPath called on server");var ele=document.createElementNS("http://www.w3.org/2000/svg","circle");return ele.setAttribute("fill","black"),ele.setAttribute("cx",""+Math.ceil(radius/2)),ele.setAttribute("cy",""+Math.ceil(radius/2)),ele.setAttribute("r",""+radius),ele}(lineWidth/2);newSvg.appendChild(newPath),data.container.div.appendChild(newSvg),data.element=newSvg},onDrawing:function onDrawing(data,viewContainer){!function expandContainer(data){var _data$coords=_slicedToArray(data.coords[data.coords.length-1],2),newX=_data$coords[0],newY=_data$coords[1],container=data.container,bounds=container.bounds,lineWidth=data.style.lineWidth;newX-lineWidth<=bounds.left?(bounds.left=newX-lineWidth,container.div.style.left=newX-lineWidth+"px",container.div.style.width=bounds.right+2*lineWidth-newX+"px"):newX+lineWidth>=bounds.right&&(bounds.right=newX+lineWidth,container.div.style.width=newX+2*lineWidth-bounds.left+"px"),newY+lineWidth>=bounds.bottom?(bounds.bottom=newY+lineWidth,container.div.style.height=newY+2*lineWidth-bounds.top+"px"):newY-lineWidth<=bounds.top&&(bounds.top=newY-lineWidth,container.div.style.top=newY-lineWidth+"px",container.div.style.height=bounds.bottom+2*lineWidth-newY+"px")}(data);var boxSize=function getBoxSize(data){var bounds=data.container.bounds;return{width:bounds.right-bounds.left,height:bounds.bottom-bounds.top}}(data),newSvg=createSvg(boxSize.width+"px",boxSize.height+"px"),path=function svgPathFromData(data,viewContainer){var newPath=document.createElementNS("http://www.w3.org/2000/svg","path");return newPath.setAttribute("fill","transparent"),newPath.setAttribute("stroke","black"),newPath.setAttribute("stroke-width","4px"),newPath.setAttribute("stroke-linejoin","round"),newPath.setAttribute("stroke-linecap","round"),newPath.setAttribute("d",function getPathDString(data,viewContainer){for(var pathString="",i=0;i<data.coords.length;i++){var mappedPoint=mapPointToRect(data.coords[i],data.container,viewContainer);pathString+=0===i?"M "+mappedPoint[0]+" "+mappedPoint[1]:"L "+mappedPoint[0]+" "+mappedPoint[1],i!==data.coords.length-1&&(pathString+="")}return pathString}(data,viewContainer)),newPath}(data,viewContainer);newSvg.appendChild(path),data.container.div.innerHTML="",data.container.div.appendChild(newSvg),data.element=newSvg},onDrawEnd:function onDrawEnd(data){console.log(data)},cursor:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwLjU4NTggMC41ODU3ODZDMTEuMzY2OCAtMC4xOTUyNjIgMTIuNjMzMiAtMC4xOTUyNjIgMTMuNDE0MiAwLjU4NTc4NkMxNC4xOTUzIDEuMzY2ODMgMTQuMTk1MyAyLjYzMzE2IDEzLjQxNDIgMy40MTQyMUwxMi42MjEzIDQuMjA3MTFMOS43OTI4OSAxLjM3ODY4TDEwLjU4NTggMC41ODU3ODZaIiBmaWxsPSIjMTExODI3Ii8+CjxwYXRoIGQ9Ik04LjM3ODY4IDIuNzkyODlMMCAxMS4xNzE2VjE0SDIuODI4NDJMMTEuMjA3MSA1LjYyMTMyTDguMzc4NjggMi43OTI4OVoiIGZpbGw9IiMxMTE4MjciLz4KPC9zdmc+') 0 16, pointer"};__webpack_exports__.default={title:"Example/ReactDraw",component:ReactDraw};var ReactDraw_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ReactDraw,Object.assign({},args))};ReactDraw_stories_Template.displayName="Template";var ReactDraw_stories_topBarTools=[src_FreeDrawTool],DefaultLayoutWithoutChildren=ReactDraw_stories_Template.bind({});DefaultLayoutWithoutChildren.args={topBarTools:ReactDraw_stories_topBarTools};var DefaultLayoutWithChildren=ReactDraw_stories_Template.bind({});DefaultLayoutWithChildren.args={topBarTools:ReactDraw_stories_topBarTools,children:Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)("p",{children:" hello world"})})};var FitLayoutWithChildren=ReactDraw_stories_Template.bind({});FitLayoutWithChildren.args={topBarTools:ReactDraw_stories_topBarTools,children:Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)("p",{children:" hello world"})}),layout:"fit"},DefaultLayoutWithoutChildren.parameters=Object.assign({storySource:{source:"(args) => <ReactDraw {...args} />"}},DefaultLayoutWithoutChildren.parameters),DefaultLayoutWithChildren.parameters=Object.assign({storySource:{source:"(args) => <ReactDraw {...args} />"}},DefaultLayoutWithChildren.parameters),FitLayoutWithChildren.parameters=Object.assign({storySource:{source:"(args) => <ReactDraw {...args} />"}},FitLayoutWithChildren.parameters)},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,4,5]]]);